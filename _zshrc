# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# Homebrew setup (macOS only, works for both Intel and Apple Silicon)
if [[ "$OSTYPE" == "darwin"* ]]; then
    if [[ -f /opt/homebrew/bin/brew ]]; then
        eval "$(/opt/homebrew/bin/brew shellenv)"  # Apple Silicon
    elif [[ -f /usr/local/bin/brew ]]; then
        eval "$(/usr/local/bin/brew shellenv)"      # Intel Mac
    fi
fi

source ~/.zplug/init.zsh
export TERM="xterm-256color"
ZSH_THEME="powerlevel10k/powerlevel10k"

zplug "zsh-users/zsh-autosuggestions"
zplug "supercrabtree/k"
zplug "plugins/git", from:oh-my-zsh
zplug romkatv/powerlevel10k, as:theme, depth:1

# Install plugins if there are plugins that have not been installed
if ! zplug check --verbose; then
    printf "Install? [y/N]: "
    if read -q; then
        echo; zplug install
    fi
fi

zplug load

alias gw="./gradlew"

DEFAULT_USER="corey"
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#ddd"
export JAVA_HOME=`/usr/libexec/java_home -v 21`
export NDK="/opt/homebrew/share/android-ndk"
export ANDROID_HOME=/Users/$(whoami)/Library/Android/sdk/
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/emulator
# export PATH="/usr/local/anaconda3/bin:$PATH"

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
export LC_ALL=en_US.UTF-8
export PATH="/opt/homebrew/opt/openjdk@21/bin:$PATH"
#export PATH="/opt/homebrew/opt/ruby/bin/ruby:$PATH"
export PATH="/opt/homebrew/Library/Homebrew/vendor/portable-ruby/3.3.7/bin:$PATH"
export PATH="/opt/homebrew/lib/ruby/gems/3.4.0/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"

. "$HOME/.local/bin/env"
export PATH="/opt/homebrew/opt/openjdk@11/bin:$PATH"
export PATH="/opt/homebrew/opt/sqlite/bin:$PATH"

# opencode
export PATH=/Users/CoreyK/.opencode/bin:$PATH
